{"version":3,"sources":["css/mapa/Mapa.module.css","components/Select.js","components/Mapa.js","components/UseGetData.js","components/UseFetchData.js","components/UseTransformFinalData.js","components/Error.js","components/ArticleLoader.js","components/Spinner.js","components/IncidencesList.js","components/dates/ShowDateRangeFilter.js","components/dates/ChoiceCalendar.js","components/dates/ShowDateRangePicker.js","App.js","utils/filterData.js","index.js","App.module.css"],"names":["module","exports","Label","styled","InputWrapper","Tag","label","onDelete","props","onClick","Listbox","CategoriesSelect","setSelected","useAutocomplete","id","defaultValue","multiple","options","incidences","getOptionSelected","option","value","title","getOptionLabel","getRootProps","getInputLabelProps","getInputProps","getTagProps","getListboxProps","getOptionProps","groupedOptions","focused","setAnchorEl","useEffect","NoSsr","ref","className","map","index","length","fontSize","Mapa","useState","width","height","position","longitude","latitude","zoom","viewPort","setViewPort","selectedPunt","setSelectedPunt","mapboxApiAccessToken","process","mapStyle","onViewportChange","viewport","dades","punt","key","coord","lat","lon","Button","e","preventDefault","styles","Icona","closeButton","onClose","tipus","data","toDateString","carrer","comentari","UseGetData","selected","dateRange","dadesFromGoogle","setDadesFromGoogle","error","setError","loading","setLoading","fetch","then","res","json","elem","content","$t","firstExtract","feed","entry","catch","UseFetchData","finalData","split","_lat","_lon","_carrer","_tipus","_comentari","_data","Date","trimLeft","parseFloat","tipusIncidencies","forEach","push","Set","sort","_incidencesType","incidencies","UseTransformFinalData","Error","Box","display","style","Typography","err","message","ArticleLoader","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","metadata","name","github","description","Spinner","color","CircularProgress","text","IncidencesList","data1","data2","getTime","incidencia","i","card","Card","CardContent","variant","toLocaleDateString","ShowDateRangeFilter","Object","entries","startDate","endDate","ChoiceCalendar","React","open","setOpen","toggle","closeOnClickOutside","onChange","range","console","log","onChangeDate","handleChange","ShowDateRangePicker","showCalendar","handleClose","onChangeDateOnCalendar","Popover","elevation","anchorOrigin","vertical","horizontal","transformOrigin","align","App","setDateRange","setShowCalendar","toggleCalendar","prevState","incidenciesFiltrades","llistaIncidencies","filter","registre","some","filterData","objLlistaIncidenciesTotal","reduce","acum","order","claus","keys","llistaIncidenciesTotal","SearchBarContainer","justifyContent","marginTop","gutterBottom","start","end","duration","MapContainer","previous","IncidencesList__title","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5e72eb93.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Icona\":\"Mapa_Icona__2wpkZ\"};","/* eslint-disable no-use-before-define */\nimport React, { useEffect } from 'react';\nimport useAutocomplete from '@material-ui/lab/useAutocomplete';\nimport NoSsr from '@material-ui/core/NoSsr';\nimport CheckIcon from '@material-ui/icons/Check';\nimport CloseIcon from '@material-ui/icons/Close';\nimport styled from 'styled-components';\n\nconst Label = styled('label')`\n  padding: 0 0 4px;\n  line-height: 1.5;\n  display: block;\n`;\n\nconst InputWrapper = styled('div')`\n  width: 90vw;\n  border: 1px solid #d9d9d9;\n  background-color: #fff;\n  border-radius: 4px;\n  padding: 1px;\n  display: flex;\n  flex-wrap: wrap;\n\n  &:hover {\n    border-color: #40a9ff;\n  }\n\n  &.focused {\n    border-color: #40a9ff;\n    box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);\n  }\n\n  & input {\n    font-size: 14px;\n    height: 30px;\n    box-sizing: border-box;\n    padding: 4px 6px;\n    width: 0;\n    min-width: 30px;\n    flex-grow: 1;\n    border: 0;\n    margin: 0;\n    outline: 0;\n  }\n`;\n\nconst Tag = styled(({ label, onDelete, ...props }) => (\n  <div {...props}>\n    <span>{label}</span>\n    <CloseIcon onClick={onDelete} />\n  </div>\n))`\n  display: flex;\n  align-items: center;\n  height: 24px;\n  margin: 2px;\n  line-height: 22px;\n  background-color: #fafafa;\n  border: 1px solid #e8e8e8;\n  border-radius: 2px;\n  box-sizing: content-box;\n  padding: 0 4px 0 10px;\n  outline: 0;\n  overflow: hidden;\n\n  &:focus {\n    border-color: #40a9ff;\n    background-color: #e6f7ff;\n  }\n\n  & span {\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n\n  & svg {\n    font-size: 12px;\n    cursor: pointer;\n    padding: 4px;\n  }\n`;\n\nconst Listbox = styled('ul')`\n  width: 90vw;\n  margin: 2px 0 0;\n  padding: 0;\n  position: absolute;\n  list-style: none;\n  background-color: #fff;\n  overflow: auto;\n  max-height: 250px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  z-index: 1;\n\n  & li {\n    padding: 5px 12px;\n    display: flex;\n\n    & span {\n      flex-grow: 1;\n    }\n\n    & svg {\n      color: transparent;\n    }\n  }\n\n  & li[aria-selected='true'] {\n    background-color: #fafafa;\n    font-weight: 600;\n\n    & svg {\n      color: #1890ff;\n    }\n  }\n\n  & li[data-focus='true'] {\n    background-color: #e6f7ff;\n    cursor: pointer;\n\n    & svg {\n      color: #000;\n    }\n  }\n`;\n\nexport default function CategoriesSelect(props) {\n\n  const { setSelected } = props;\n  const {\n    getRootProps,\n    getInputLabelProps,\n    getInputProps,\n    getTagProps,\n    getListboxProps,\n    getOptionProps,\n    groupedOptions,\n    value,\n    focused,\n    setAnchorEl,\n  } = useAutocomplete({\n    id: 'customized-hook-demo',\n    defaultValue: [],\n    multiple: true,\n    options: props.incidences,\n    getOptionSelected: (option, value) => {\n      return (option.title === value.title)\n    },\n    getOptionLabel: (option) => option.title\n  });\n\n  useEffect(() => {\n    setSelected(value)\n  }, [value, setSelected])\n\n\n  return (\n    <NoSsr>\n      <div>\n        <div {...getRootProps()}>\n          <Label {...getInputLabelProps()}>{props.label}</Label>\n          <InputWrapper ref={setAnchorEl} className={focused ? 'focused' : ''}>\n            {value.map((option, index) => (\n              <Tag label={option.title} {...getTagProps({ index })} />\n            ))}\n\n            <input {...getInputProps()} />\n          </InputWrapper>\n        </div>\n        {groupedOptions.length > 0 ? (\n          <Listbox {...getListboxProps()}>\n            {groupedOptions.map((option, index) => (\n              <li {...getOptionProps({ option, index })}>\n                <span>{option.title}</span>\n                <CheckIcon fontSize=\"small\" />\n              </li>\n            ))}\n          </Listbox>\n        ) : null}\n      </div>\n    </NoSsr>\n  );\n}\n\n","import React, { useState } from \"react\";\nimport ReactMapGl, { Marker, Popup } from \"react-map-gl\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport { Button } from \"@material-ui/core\";\nimport styles from \"../css/mapa/Mapa.module.css\";\nimport NewReleasesTwoToneIcon from \"@material-ui/icons/NewReleasesTwoTone\";\n//import NewReleasesOutlinedIcon from '@material-ui/icons/NewReleasesOutlined';\n\nconst Mapa = (props) => {\n  const estilsMapa = {\n    dark: \"mapbox://styles/mapbox/dark-v10\",\n    natural: \"mapbox://styles/mapbox/navigation-guidance-day-v4\",\n    light: \"mapbox://styles/mapbox/light-v10\",\n    outdoors: \"mapbox://styles/mapbox/outdoors-v11\",\n    satellit: \"mapbox://styles/mapbox/satellite-v9\",\n  };\n\n  const [viewPort, setViewPort] = useState({\n    width: \"100vh\",\n    height: \"60vh\",\n    position: \"\",\n    longitude: 1.975731,\n    latitude: 41.266965,\n    zoom: 15,\n  });\n\n  const [selectedPunt, setSelectedPunt] = useState(null);\n\n  return (\n    <>\n      <ReactMapGl\n        {...viewPort}\n        mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\n        mapStyle={estilsMapa.dark}\n        onViewportChange={(viewport) => {\n          setViewPort(viewport);\n        }}\n      >\n        {props.dades.map((punt, index) => {\n          return (\n            <Marker\n              key={index}\n              latitude={punt.coord.lat}\n              longitude={punt.coord.lon}\n            >\n              <Button\n                onClick={(e) => {\n                  e.preventDefault();\n                  setSelectedPunt(punt);\n                }}\n              >\n                <NewReleasesTwoToneIcon\n                  className={styles.Icona}\n                  fontSize={\"large\"}\n                />\n              </Button>\n            </Marker>\n          );\n        })}\n\n        {selectedPunt ? (\n          <Popup\n            latitude={selectedPunt.coord.lat}\n            longitude={selectedPunt.coord.lon}\n            closeButton\n            onClose={() => {\n              setSelectedPunt(null);\n            }}\n          >\n            <div>\n              <h2>\n                {selectedPunt.tipus} - {selectedPunt.data.toDateString(\"es-ES\")}{\" \"}\n              </h2>\n              <h3>{selectedPunt.carrer}</h3>\n              <div>{selectedPunt.comentari}</div>\n              <p>\n                {selectedPunt.coord.lat} - {selectedPunt.coord.lon}\n              </p>\n            </div>\n          </Popup>\n        ) : null}\n      </ReactMapGl>\n    </>\n  );\n};\n\nexport default Mapa;\n","import { UseFetchData } from \"./UseFetchData\";\nimport { UseTransformFinalData } from \"./UseTransformFinalData\";\n\nconst UseGetData = (selected, dateRange) => {\n\n    const { dadesFromGoogle, error, loading } = UseFetchData();\n\n    const { tipusIncidencies, incidencies } = UseTransformFinalData(dadesFromGoogle, selected, dateRange);\n\n    return { tipusIncidencies, incidencies, error, loading }\n}\n\nexport default UseGetData;","import { useEffect, useState } from 'react'\n\nexport const UseFetchData = () => {\n\n    const [dadesFromGoogle, setDadesFromGoogle] = useState([]);\n    const [error, setError] = useState(null);\n    const [loading, setLoading] = useState(false)\n\n    const firstExtract = (data) => data.map((elem) => elem.content.$t);\n\n\n    useEffect(() => {\n        setLoading(true);\n        fetch(`https://spreadsheets.google.com/feeds/list/${process.env.REACT_APP_GOOGLE_SHEETS_DOC_ID}/od6/public/basic?alt=json`)\n            .then(res => res.json())\n            .then((data) => {\n                setDadesFromGoogle(firstExtract(data.feed.entry));\n                setLoading(false);\n            }\n            ).catch(e => {\n                setError(e);\n                setLoading(false);\n            })\n    }\n        , []);\n\n    return { dadesFromGoogle, error, loading }\n}\n\n","//import moment from 'moment'\n\nexport const UseTransformFinalData = (dadesFromGoogle, selected, dateRange) => {\n\n    const extractDataFromSheet = dadesFromGoogle.map((elem) => {\n        return (elem.split(','));\n    });\n\n    const finalData = extractDataFromSheet.map((elem) => {\n        //       console.log(\"ELEM:\", elem);\n        const _DATA = 0, _LAT = 2, _LON = 3, _CARRER = 5, _TIPUS = 6, _COMENTARI = 8;\n        let coordenada = { coord: { lat: 0, lon: 0 } };\n        const _lat = elem[_LAT].split(\":\");\n        const _lon = elem[_LON].split(\":\");\n        const _carrer = elem[_CARRER].split(\":\");\n        const _tipus = elem[_TIPUS].split(\":\");\n        const _comentari = elem[_COMENTARI].split(\":\");\n        let _data = elem[_DATA].split(\":\")\n        //     console.log(\"_comentari:\", _comentari[1])\n        _data = new Date(_data[1].trimLeft()); // 1st argument - string, 2nd argument - format\n        //_data = new Date(\"2020/08/15\");\n        //     console.log(\"_data:\", _data)\n\n        let final = {\n            ...coordenada, coord: {\n                lat: parseFloat(_lat[1]), lon: parseFloat(_lon[1])\n            },\n            tipus: _tipus[1].trimLeft(),\n            carrer: _carrer[1],\n            data: _data, // convert moment.js object to Date object\n            comentari: _comentari[1]\n        };\n        return (final)\n    });\n\n\n    const _incidencesType = (data) => {\n        if (data) {\n            const _tipus = [];\n            data.forEach((elem) => {\n                _tipus.push(elem.tipus)\n            });\n            return ([...new Set(_tipus)].map((elem) => ({ title: elem })).sort());\n        } else {\n            return ([]);\n        }\n    };\n\n    /*\n    const incidencies = finalData.filter(\n        (registre) => {\n            return selected.some((elem) =>\n                (elem.title === registre.tipus)\n            )\n        }\n    );\n\n        const incidencies = finalData.filter(\n    (registre) => {\n        //         console.log(\"incidencia:\", local);\n        if (!!dateRange && Object.entries(dateRange).length === 0) {\n            //             console.log(\"ESTIC a incidiencies i daterange es buid:\", dateRange)\n            return selected.some((elem) => elem.title === registre.tipus)\n        } else {\n            //             console.log(\"daterange hauria de no ser null:\", dateRange)\n            return selected.some((elem) =>\n                (elem.title === registre.tipus\n                    && (registre.data >= dateRange.startDate)\n                    && (registre.data <= dateRange.endDate)\n                ))\n        }\n    });*/\n\n    const tipusIncidencies = _incidencesType(finalData);\n    //    console.log(\"inicidencies:\", finalData);\n    //    console.log(\"tipus:\", tipusIncidencies)\n    return { tipusIncidencies, incidencies: finalData }\n}\n\n","import React from 'react'\nimport { Box, Typography } from '@material-ui/core'\n\nexport const Error = (props) => {\n    return (\n        <>\n            <Box display={\"flex\"} style={{ \"width\": \"-webkit-fill-available\", \"justifyContent\": \"center\" }}>\n                <Typography> Oooops! sembla que hi ha hagut algun problema: {props.err.message}</Typography>\n            </Box>\n        </>\n    )\n\n}","import React from 'react'\nimport ContentLoader from 'react-content-loader'\n\nconst ArticleLoader = props => (\n    <ContentLoader \n    speed={2}\n    width={400}\n    height={460}\n    viewBox=\"0 0 400 460\"\n    backgroundColor=\"#f3f3f3\"\n    foregroundColor=\"#ecebeb\"\n    {...props}\n  >\n    <rect x=\"14\" y=\"-11\" rx=\"2\" ry=\"2\" width=\"134\" height=\"24\" /> \n    <rect x=\"62\" y=\"52\" rx=\"2\" ry=\"2\" width=\"255\" height=\"18\" /> \n    <rect x=\"0\" y=\"83\" rx=\"2\" ry=\"2\" width=\"400\" height=\"361\" /> \n    <rect x=\"13\" y=\"18\" rx=\"2\" ry=\"2\" width=\"335\" height=\"24\" />\n    </ContentLoader>\n)\n\nArticleLoader.metadata = {\n    name: 'xmorato',\n    github: 'xmorato',\n    description: 'Sorolls'\n}\n\nexport default ArticleLoader","import { Box, Typography, CircularProgress } from '@material-ui/core'\nimport React from 'react'\nimport ArticleLoader from './ArticleLoader'\n\nexport const Spinner = (props) => {\n    return (\n        <>\n            <Box display={\"flex\"} style={{ \"width\": \"-webkit-fill-available\", \"justifyContent\": \"center\" }}>\n                <Typography color=\"textPrimary\"> Ruidos en Castelldefels Playa </Typography>\n            </Box>\n            <Box display={\"flex\"} style={{ \"width\": \"-webkit-fill-available\", \"justifyContent\": \"center\" }}>\n                <CircularProgress />\n            </Box>\n            <Box display={\"flex\"} style={{ \"width\": \"-webkit-fill-available\", \"justifyContent\": \"center\" }}>\n                <Typography color=\"textPrimary\">  {props.text} </Typography>\n            </Box>\n            <Box display={\"flex\"} style={{ \"width\": \"-webkit-fill-available\", \"justifyContent\": \"center\" }}>\n\n                <ArticleLoader />\n            </Box>\n\n        </>\n    )\n\n}\n\n","import React from 'react';\n//import { makeStyles } from '@material-ui/core/styles';\nimport styles from '../App.module.css';\n\nimport { Card, CardContent, Typography } from '@material-ui/core';\n\n\nconst IncidencesList = ({ incidencies }) => {\n\n    return (\n        <>\n            {\n                incidencies.sort((data1, data2) => {\n                    return (data2.data.getTime() - (data1.data.getTime())\n                    )\n                })\n                    .map((incidencia, i) => {\n                        return (\n                            <div className={styles.card} key={i}>\n                                <Card className={styles.card} >\n                                    <CardContent>\n                                        <Typography variant=\"h5\">Data: {incidencia.data.toLocaleDateString()}</Typography>\n                                        <Typography variant=\"h6\">Tipus: {incidencia.tipus}</Typography>\n                                        <Typography>Carrer: {incidencia.carrer}</Typography>\n                                        <Typography>Comentari:{incidencia.comentari}</Typography>\n                                        <Typography>Lat: {incidencia.coord.lat}</Typography>\n                                        <Typography>Long: {incidencia.coord.lat}</Typography>\n                                    </CardContent>\n                                </Card>\n                            </div>\n                        )\n                    })\n            }\n        </>\n    )\n}\n\nexport default IncidencesList","import { Typography } from '@material-ui/core'\nimport React from 'react'\nimport styles from '../../App.module.css';\n\n\nexport const ShowDateRangeFilter = ({ dateRange }) => {\n    return (\n        Object.entries(dateRange).length !== 0 &&\n        <div className={styles.ShowDateRangeFilter}>\n            <Typography > Filtre actiu: {\" \"} </Typography>\n            <Typography color=\"error\"> {(dateRange.startDate.toLocaleDateString())}</Typography>\n            <Typography > {\" - \"} </Typography>\n            <Typography color=\"error\"> {(dateRange.endDate.toLocaleDateString())}</Typography>\n        </div>\n    )\n}","import React from \"react\";\nimport { DateRangePicker } from \"materialui-daterange-picker/dist\";\n\nexport const ChoiceCalendar = props => {\n  const [open, setOpen] = React.useState(true);\n  //const [dateRange, setDateRange] = useState({});\n\n  const toggle = () => {\n    setOpen(!open);\n    //props.onToggle();\n  }\n\n  const handleChange = (range) => {\n    //  setDateRange(range);\n    console.log(\"Range:\", range);\n    props.onChangeDate(range)\n  }\n\n  return (\n    <>\n      <DateRangePicker\n        open={true}\n        toggle={toggle}\n        closeOnClickOutside={false}\n        onChange={(range) => { handleChange(range) }}\n      />\n    </>\n  );\n}\n","import { Popover, Typography } from \"@material-ui/core\";\nimport { ChoiceCalendar } from \"./ChoiceCalendar\";\nimport React from \"react\";\n\nexport const ShowDateRangePicker = ({\n  showCalendar,\n  handleClose,\n  onChangeDateOnCalendar,\n}) => {\n  return showCalendar ? (\n    <Popover\n      open={showCalendar}\n      onClose={handleClose}\n      elevation={20}\n      anchorOrigin={{\n        vertical: \"top\",\n        horizontal: \"top\",\n      }}\n      transformOrigin={{\n        vertical: \"center\",\n        horizontal: \"center\",\n      }}\n    >\n      <Typography align=\"center\">\n        {\" \"}\n        Selecciona dues dates o un rang a la columna de la dreta - ESC per\n        sortir\n      </Typography>\n      <ChoiceCalendar onChangeDate={onChangeDateOnCalendar} />\n    </Popover>\n  ) : null;\n};\n","import React, { useState } from \"react\";\nimport styles from \"./App.module.css\";\nimport CategoriesSelect from \"./components/Select\";\nimport Mapa from \"./components/Mapa\";\nimport UseGetData from \"./components/UseGetData\";\nimport { Box, Typography, Button } from \"@material-ui/core\";\nimport { Error } from \"./components/Error\";\nimport { Spinner } from \"./components/Spinner\";\nimport CountUp from \"react-countup\";\nimport IncidencesList from \"./components/IncidencesList\";\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\nimport EventBusyIcon from \"@material-ui/icons/EventBusy\";\nimport { filterData } from \"./utils/filterData\";\nimport { ShowDateRangeFilter } from \"./components/dates/ShowDateRangeFilter\";\nimport { ShowDateRangePicker } from \"./components/dates/ShowDateRangePicker\";\n\nfunction App() {\n  const [selected, setSelected] = useState([]);\n  const [dateRange, setDateRange] = useState({});\n  const { tipusIncidencies, incidencies, error, loading } = UseGetData(\n    selected,\n    dateRange\n  );\n  const [showCalendar, setShowCalendar] = useState(false);\n\n  const onChangeDateOnCalendar = (range) => {\n    //   console.log(\"Incidencies:\", incidencies)\n    setDateRange((previous) => range);\n    setShowCalendar(false);\n  };\n\n  const toggleCalendar = (e) => {\n    setShowCalendar((prevState) => !prevState);\n  };\n\n  const handleClose = () => {\n    toggleCalendar();\n  };\n\n  const resetFiltro = () => {\n    setDateRange({});\n  };\n\n  const incidenciesFiltrades = filterData(dateRange, incidencies, selected);\n  const objLlistaIncidenciesTotal = incidencies.reduce((acum, order) => {\n    return { ...acum, [order.tipus]: (acum[order.tipus] || 0) + 1 };\n  }, {});\n  const claus = Object.keys(objLlistaIncidenciesTotal);\n  let llistaIncidenciesTotal = [];\n  for (let i = 0; i < claus.length; i++) {\n    llistaIncidenciesTotal = [\n      ...llistaIncidenciesTotal,\n      [claus[i], objLlistaIncidenciesTotal[claus[i]]],\n    ];\n  }\n\n  return (\n    <>\n      {!error && !loading && (\n        <div className=\"App\">\n          <div className={styles.SearchBarContainer}>\n            <CategoriesSelect\n              selected={selected}\n              setSelected={setSelected}\n              label=\"Selecciona el(s) tipus de incidències\"\n              incidences={tipusIncidencies}\n            />\n          </div>\n          <Box\n            id=\"buttons\"\n            display={\"flex\"}\n            style={{\n              width: \"-webkit-fill-available\",\n              justifyContent: \"center\",\n              marginTop: \"10px\",\n            }}\n          >\n            <Button color=\"primary\" onClick={toggleCalendar}>\n              <EventAvailableIcon /> Filtrar per Dates\n            </Button>\n            {Object.entries(dateRange).length !== 0 && (\n              <Button color=\"secondary\" onClick={resetFiltro}>\n                {\" \"}\n                <EventBusyIcon /> Esborrar filtre\n              </Button>\n            )}\n          </Box>\n          <Box\n            display={\"flex\"}\n            style={{\n              width: \"-webkit-fill-available\",\n              justifyContent: \"center\",\n            }}\n          >\n            <Typography color=\"textPrimary\" variant=\"h6\" gutterBottom>\n              {\" \"}\n              Incidències:{\" \"}\n              <CountUp\n                start={0}\n                end={incidenciesFiltrades.length}\n                duration={1.25}\n              />\n            </Typography>\n          </Box>\n\n          <ShowDateRangeFilter dateRange={dateRange} />\n\n          <div className={styles.MapContainer}>\n            <Mapa dades={incidenciesFiltrades} />\n          </div>\n\n          <ShowDateRangePicker\n            handleClose={handleClose}\n            onChangeDateOnCalendar={onChangeDateOnCalendar}\n            showCalendar={showCalendar}\n          />\n\n          {incidenciesFiltrades.length !== 0 ? (\n            <>\n              <div className={styles.IncidencesList__title}>\n                <Typography style={{ fontSize: \"1.2rem\" }}>\n                  {\" \"}\n                  Incidències de més a menys recents\n                </Typography>\n              </div>\n              <div className={styles.IncidencesList}>\n                <IncidencesList incidencies={incidenciesFiltrades} />\n              </div>\n            </>\n          ) : null}\n          <Box\n            display={\"flex\"}\n            style={{\n              width: \"-webkit-fill-available\",\n              justifyContent: \"center\",\n            }}\n          >\n            <Typography style={{ fontSize: \"0.8rem\" }}>\n              {\" \"}\n              REC-PL: Ruidos en Castelldefels Playa, fem un millor barri{\" \"}\n            </Typography>\n          </Box>\n        </div>\n      )}\n\n      {!!error && <Error err={error} />}\n      {!!loading && <Spinner text={\"Carregant dades\"} />}\n    </>\n  );\n}\n\nexport default App;\n","export const filterData = (dateRange, llistaIncidencies, selected) => {\n    return llistaIncidencies.filter(\n        (registre) => {\n            //         console.log(\"incidencia:\", local);\n            if (!!dateRange && Object.entries(dateRange).length === 0) {\n                //             console.log(\"ESTIC a incidiencies i daterange es buid:\", dateRange)\n                return selected.some((elem) => elem.title === registre.tipus)\n            } else {\n                //             console.log(\"daterange hauria de no ser null:\", dateRange)\n                return selected.some((elem) =>\n                    (elem.title === registre.tipus\n                        && (registre.data >= dateRange.startDate)\n                        && (registre.data <= dateRange.endDate)\n                    ))\n            }\n        });\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardsContainer\":\"App_cardsContainer__2PKmS\",\"card\":\"App_card__3tefE\",\"SearchBarContainer\":\"App_SearchBarContainer__2uhy_\",\"MapContainer\":\"App_MapContainer__1sfMH\",\"ShowDateRangeFilter\":\"App_ShowDateRangeFilter__1Yau-\",\"IncidencesList\":\"App_IncidencesList__bi5Ng\",\"IncidencesList__title\":\"App_IncidencesList__title__3k00w\"};"],"sourceRoot":""}