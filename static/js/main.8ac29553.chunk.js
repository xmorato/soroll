(this["webpackJsonpdashboard-mui"]=this["webpackJsonpdashboard-mui"]||[]).push([[0],{220:function(e,t){e.exports="data:image/png;base64,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"},234:function(e,t,n){e.exports=n(247)},239:function(e,t,n){},247:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(20),i=n.n(l),o=(n(239),n(34)),c=n(75),s=n.n(c),u=n(225),d=n(77),f=n(263),p=n(264),m=n(218),g=n.n(m),b=n(217),E=n.n(b),x=n(78);function h(){var e=Object(d.a)(["\n  width: 300px;\n  margin: 2px 0 0;\n  padding: 0;\n  position: absolute;\n  list-style: none;\n  background-color: #fff;\n  overflow: auto;\n  max-height: 250px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  z-index: 1;\n\n  & li {\n    padding: 5px 12px;\n    display: flex;\n\n    & span {\n      flex-grow: 1;\n    }\n\n    & svg {\n      color: transparent;\n    }\n  }\n\n  & li[aria-selected='true'] {\n    background-color: #fafafa;\n    font-weight: 600;\n\n    & svg {\n      color: #1890ff;\n    }\n  }\n\n  & li[data-focus='true'] {\n    background-color: #e6f7ff;\n    cursor: pointer;\n\n    & svg {\n      color: #000;\n    }\n  }\n"]);return h=function(){return e},e}function j(){var e=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  height: 24px;\n  margin: 2px;\n  line-height: 22px;\n  background-color: #fafafa;\n  border: 1px solid #e8e8e8;\n  border-radius: 2px;\n  box-sizing: content-box;\n  padding: 0 4px 0 10px;\n  outline: 0;\n  overflow: hidden;\n\n  &:focus {\n    border-color: #40a9ff;\n    background-color: #e6f7ff;\n  }\n\n  & span {\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n\n  & svg {\n    font-size: 12px;\n    cursor: pointer;\n    padding: 4px;\n  }\n"]);return j=function(){return e},e}function v(){var e=Object(d.a)(["\n  width: 90vw;\n  border: 1px solid #d9d9d9;\n  background-color: #fff;\n  border-radius: 4px;\n  padding: 1px;\n  display: flex;\n  flex-wrap: wrap;\n\n  &:hover {\n    border-color: #40a9ff;\n  }\n\n  &.focused {\n    border-color: #40a9ff;\n    box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);\n  }\n\n  & input {\n    font-size: 14px;\n    height: 30px;\n    box-sizing: border-box;\n    padding: 4px 6px;\n    width: 0;\n    min-width: 30px;\n    flex-grow: 1;\n    border: 0;\n    margin: 0;\n    outline: 0;\n  }\n"]);return v=function(){return e},e}function O(){var e=Object(d.a)(["\n  padding: 0 0 4px;\n  line-height: 1.5;\n  display: block;\n"]);return O=function(){return e},e}var w=Object(x.a)("label")(O()),y=Object(x.a)("div")(v()),k=Object(x.a)((function(e){var t=e.label,n=e.onDelete,a=Object(u.a)(e,["label","onDelete"]);return r.a.createElement("div",a,r.a.createElement("span",null,t),r.a.createElement(E.a,{onClick:n}))}))(j()),S=Object(x.a)("ul")(h());function C(e){var t=e.setSelected,n=Object(f.a)({id:"customized-hook-demo",defaultValue:[],multiple:!0,options:e.incidences,getOptionSelected:function(e,t){return e.title===t.title},getOptionLabel:function(e){return e.title}}),l=n.getRootProps,i=n.getInputLabelProps,o=n.getInputProps,c=n.getTagProps,s=n.getListboxProps,u=n.getOptionProps,d=n.groupedOptions,m=n.value,b=n.focused,E=n.setAnchorEl;return Object(a.useEffect)((function(){t(m)}),[m,t]),r.a.createElement(p.a,null,r.a.createElement("div",null,r.a.createElement("div",l(),r.a.createElement(w,i(),e.label),r.a.createElement(y,{ref:E,className:b?"focused":""},m.map((function(e,t){return r.a.createElement(k,Object.assign({label:e.title},c({index:t})))})),r.a.createElement("input",o()))),d.length>0?r.a.createElement(S,s(),d.map((function(e,t){return r.a.createElement("li",u({option:e,index:t}),r.a.createElement("span",null,e.title),r.a.createElement(g.a,{fontSize:"small"}))}))):null))}var A=n(101),P=(n(244),n(265)),D=n(220),I=n.n(D),R=function(e){var t=Object(a.useState)({width:"100vh",height:"60vh",position:"",longitude:1.975731,latitude:41.266965,zoom:15}),n=Object(o.a)(t,2),l=n[0],i=n[1],c=Object(a.useState)(null),s=Object(o.a)(c,2),u=s[0],d=s[1];return r.a.createElement("div",null,r.a.createElement(A.c,Object.assign({},l,{mapboxApiAccessToken:"pk.eyJ1IjoieGF2aW90cCIsImEiOiJja2F5Mnlnd3EwYzF1MzR1bG56czNnNnY4In0.LzCEft2g_0N9kuHVBgi8cA",mapStyle:"mapbox://styles/mapbox/dark-v10",onViewportChange:function(e){i(e)}}),e.dades.map((function(e,t){return r.a.createElement(A.a,{key:t,latitude:e.coord.lat,longitude:e.coord.lon},r.a.createElement(P.a,{onClick:function(t){t.preventDefault(),d(e)}},r.a.createElement("img",{src:I.a,alt:e.carrer})))})),u?r.a.createElement(A.b,{latitude:u.coord.lat,longitude:u.coord.lon,onClose:function(){return d(null)}},r.a.createElement("div",null,r.a.createElement("h2",null,u.tipus," - ",u.data.toDateString("es-ES")," "),r.a.createElement("h3",null,u.carrer),r.a.createElement("div",null,u.comentari),r.a.createElement("p",null,u.coord.lat," - ",u.coord.lon))):null))},z=n(224),L=n(132),F=function(e,t){var n=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],l=Object(a.useState)(null),i=Object(o.a)(l,2),c=i[0],s=i[1],u=Object(a.useState)(!1),d=Object(o.a)(u,2),f=d[0],p=d[1];return Object(a.useEffect)((function(){p(!0),fetch("https://spreadsheets.google.com/feeds/list/".concat("1J397_lR00rFSGxef9nFUMVwTXFPIf0FDes9xb7_-K7M","/od6/public/basic?alt=json")).then((function(e){return e.json()})).then((function(e){r(function(e){return e.map((function(e){return e.content.$t}))}(e.feed.entry)),p(!1)})).catch((function(e){s(e),p(!1)}))}),[]),{dadesFromGoogle:n,error:c,loading:f}}(),r=n.dadesFromGoogle,l=n.error,i=n.loading,c=function(e,t,n){var a=e.map((function(e){return e.split(",")})).map((function(e){console.log("ELEM:",e);var t=e[2].split(":"),n=e[3].split(":"),a=e[5].split(":"),r=e[6].split(":"),l=e[8].split(":"),i=e[0].split(":");return console.log("_comentari:",l[1]),i=new Date(i[1].trimLeft()),console.log("_data:",i),Object(L.a)(Object(L.a)({},{coord:{lat:0,lon:0}}),{},{coord:{lat:parseFloat(t[1]),lon:parseFloat(n[1])},tipus:r[1].trimLeft(),carrer:a[1],data:i,comentari:l[1]})})),r=function(e){if(e){var t=[];return e.forEach((function(e){t.push(e.tipus)})),Object(z.a)(new Set(t)).map((function(e){return{title:e}})).sort()}return[]}(a);return console.log("inicidencies:",a),console.log("tipus:",r),{tipusIncidencies:r,incidencies:a}}(r);return{tipusIncidencies:c.tipusIncidencies,incidencies:c.incidencies,error:l,loading:i}},Q=n(129),J=n(266),M=n(272),V=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{display:"flex",style:{width:"-webkit-fill-available",justifyContent:"center"}},r.a.createElement(J.a,null," Oooops! sembla que hi ha hagut algun problema: ",e.err.message)))},B=n(267),G=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{display:"flex",style:{width:"-webkit-fill-available",justifyContent:"center"}},r.a.createElement(J.a,{color:"textPrimary"}," Ruidos en Castelldefels Playa ")),r.a.createElement(Q.a,{display:"flex",style:{width:"-webkit-fill-available",justifyContent:"center"}},r.a.createElement(B.a,null)),r.a.createElement(Q.a,{display:"flex",style:{width:"-webkit-fill-available",justifyContent:"center"}},r.a.createElement(J.a,{color:"textPrimary"},"  ",e.text," ")))},N=n(221),T=function(e){var t=r.a.useState(!0),n=Object(o.a)(t,2),a=n[0],l=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.DateRangePicker,{open:!0,toggle:function(){l(!a)},closeOnClickOutside:!1,onChange:function(t){!function(t){console.log("Range:",t),e.onChangeDate(t)}(t)}}))},U=n(223),q=n.n(U),K=n(268),W=n(269),X=function(e){var t=e.incidencies;return r.a.createElement(r.a.Fragment,null,t.sort((function(e,t){return t.data.getTime()-e.data.getTime()})).map((function(e){return r.a.createElement("div",{className:s.a.card},r.a.createElement(K.a,{className:s.a.card},r.a.createElement(W.a,null,r.a.createElement(J.a,{variant:"h5"},"Data: ",e.data.toLocaleDateString()),r.a.createElement(J.a,{variant:"h6"},"Tipus: ",e.tipus),r.a.createElement(J.a,null,"Carrer: ",e.carrer),r.a.createElement(J.a,null,"Comentari:",e.comentari),r.a.createElement(J.a,null,"Lat: ",e.coord.lat),r.a.createElement(J.a,null,"Long: ",e.coord.lat))))})))};var Y=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],l=t[1],i=Object(a.useState)({}),c=Object(o.a)(i,2),u=c[0],d=c[1],f=F(n,u),p=f.tipusIncidencies,m=f.incidencies,g=f.error,b=f.loading,E=Object(a.useState)(!1),x=Object(o.a)(E,2),h=x[0],j=x[1],v=function(e){console.log("Estat: ",h),j((function(e){return!e}))},O=function(e,t,n){return t.filter((function(t){return e&&0===Object.entries(e).length?n.some((function(e){return e.title===t.tipus})):n.some((function(n){return n.title===t.tipus&&t.data>=e.startDate&&t.data<=e.endDate}))}))}(u,m,n);return r.a.createElement(r.a.Fragment,null,!g&&!b&&r.a.createElement("div",{className:"App"},r.a.createElement(Q.a,{display:"flex",style:{flexDirection:"column",alignItems:"flex-start",width:"-webkit-fill-available"}},r.a.createElement(Q.a,{display:"flex",style:{width:"-webkit-fill-available",justifyContent:"center"}},r.a.createElement(C,{selected:n,setSelected:l,label:"Selecciona el(s) tipus de incid\xe8ncies",incidences:p})),r.a.createElement(Q.a,{display:"flex",style:{width:"-webkit-fill-available",justifyContent:"center"}},r.a.createElement(P.a,{color:"primary",onClick:v},r.a.createElement("span",{role:"img","aria-label":"filtre"},"\ud83d\udcc5")," ","Filtrar per Dates"),0!==Object.entries(u).length&&r.a.createElement(P.a,{color:"secondary",onClick:function(){d({})}}," ",r.a.createElement("span",{role:"img","aria-label":"reset"},"\ud83d\uddd1\ufe0f")," ","Esborrar filtre")),r.a.createElement(Q.a,{display:"flex",style:{width:"-webkit-fill-available",justifyContent:"center"}},r.a.createElement(J.a,{color:"textPrimary",variant:"h6",gutterBottom:!0}," Incid\xe8ncies: "," ",r.a.createElement(q.a,{start:0,end:O.length,duration:1.25}))),0!==Object.entries(u).length&&r.a.createElement(Q.a,{display:"flex",style:{width:"-webkit-fill-available",justifyContent:"center"}},r.a.createElement(J.a,{color:"colorSecondary"}," Filtre actiu: "," "," "),r.a.createElement(J.a,{color:"error"}," ",u.startDate.toLocaleDateString()),r.a.createElement(J.a,{color:"colorSecondary"}," - "," "),r.a.createElement(J.a,{color:"error"}," ",u.endDate.toLocaleDateString())),r.a.createElement(Q.a,{m:2,display:"flex",style:{width:"-webkit-fill-available",justifyContent:"center"}},r.a.createElement(R,{dades:O})),h?r.a.createElement(M.a,{open:h,onClose:function(){v()},elevation:20,anchorOrigin:{vertical:"center",horizontal:"top"},transformOrigin:{vertical:"center",horizontal:"center"}},r.a.createElement(J.a,{align:"center"},"  Selecciona dues dates o un rang a la columna de la dreta - ESC per sortir"),r.a.createElement(T,{onChangeDate:function(e){console.log("Incidencies:",m),d((function(t){return e})),j(!1)}})):null,0!==O.length?r.a.createElement("div",{id:"principal",className:s.a.cardsContainer},r.a.createElement(X,{incidencies:O})):null),r.a.createElement(Q.a,{display:"flex",style:{width:"-webkit-fill-available",justifyContent:"center"}},r.a.createElement(J.a,{style:{fontSize:"0.8rem"}}," REC-PL: Ruidos en Castelldefels Playa, fem un millor barri "))),!!g&&r.a.createElement(V,{err:g}),!!b&&r.a.createElement(G,{text:"Carregant dades"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},75:function(e,t,n){e.exports={cardsContainer:"App_cardsContainer__2PKmS",card:"App_card__3tefE"}}},[[234,1,2]]]);
//# sourceMappingURL=main.8ac29553.chunk.js.map